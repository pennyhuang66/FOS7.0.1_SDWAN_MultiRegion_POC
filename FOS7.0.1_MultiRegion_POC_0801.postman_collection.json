{
	"info": {
		"_postman_id": "9b16aae1-ae4a-454a-9d40-67aa58ba3bf6",
		"name": "FOS7.0.1_MultiRegion_POC_0801",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "CN Region - Dual-Hub",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"cn_t1\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"cn_t2\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add VPN Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 17,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"cn_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.201.1.2\",\n                    \"ipv4-end-ip\": \"10.201.1.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 33,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"cn_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.201.2.2\",\n                    \"ipv4-end-ip\": \"10.201.2.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 18,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"cn_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port3\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.202.1.2\",\n                    \"ipv4-end-ip\": \"10.202.1.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 34,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"cn_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port3\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.202.2.2\",\n                    \"ipv4-end-ip\": \"10.202.2.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add VPN Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"id\": 1,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_EDGE\"\n                    },\n                    \"vpntable\": \"cn_t1\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"id\": 2,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_EDGE\"\n                    },\n                    \"vpntable\": \"cn_t2\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port3\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Normalized Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"cn_t1_h1\",\n                    \"description\": \"cn_t1_h1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t1_11\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"cn_t1_h2\",\n                    \"description\": \"cn_t1_h2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t1_12\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"cn_t2_h1\",\n                    \"description\": \"cn_t2_h1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t2_21\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"cn_t2_h2\",\n                    \"description\": \"cn_t2_h2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t2_22\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"cn_t1_0\",\n                    \"description\": \"cn_t1_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t1_0\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"cn_t2_0\",\n                    \"description\": \"cn_t2_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"cn_t2_0\",\n                    \"color\": 4\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add CLI Template - Overlay",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"CN-Hub-Overlay\",\n                    \"script\": \"# Adjust Overlay on Hubs-CN\n                    \n# Configure tunnel interface IPs\nconfig system interface\n  edit cn_t1_0\n    set ip 10.201.$(pop-id).1 255.255.255.255\n    set remote-ip 10.201.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit cn_t2_0\n    set ip 10.202.$(pop-id).1 255.255.255.255\n    set remote-ip 10.202.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit cn_t1_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)1\n  next\n  edit cn_t2_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)2    \n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"CN-Edge-Overlay\",\n                    \"script\": \"# Adjust Overlay on Edge-CN\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit cn_t1_11\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 11\n  next\n  edit cn_t1_21\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 21\n  next\n  edit cn_t2_12\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 12\n  next\n  edit cn_t2_22\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 22\n  next\nend\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit cn_t1_11\n    set allowaccess ping\n  next\n  edit cn_t1_21\n    set allowaccess ping\n  next\n  edit cn_t2_12\n    set allowaccess ping\n  next\n  edit cn_t2_22\n    set allowaccess ping\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-CN-Template\",\n                    \"member\": [\n                        \"CN-Hub-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Edge-CN-Template\",\n                    \"member\": [\n                        \"CN-Edge-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Hub Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"CN-Hub-Routing\",\n                    \"script\": \"# Routing on Hub-CN\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 9.9.9.$(pop-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set ebgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\nend\n\nconfig router static\n  edit 101\n    set dst 10.0.0.0/8\n    set blackhole enable\n    set comment \\\"Avoid potential leak of corporate traffic to underlay\\\"\n  next\n  edit 102\n    set dst 10.200.0.0/14\n    set blackhole enable\n    set comment \\\"Summary for cross-overlay resolution\\\"\n  next\nend\n\nconfig router prefix-list\n  edit \\\"OL_SUBNETS\\\"\n    config rule\n      edit 1\n        set prefix 10.200.0.0/14\n        set ge 15\n        unset le\n      next\n    end\n  next\n  edit \\\"OL_T1\\\"\n    config rule\n      edit 1\n        set prefix 10.201.0.0/16\n      next\n    end\n  next\n  edit \\\"OL_T2\\\"\n    config rule\n      edit 1\n        set prefix 10.202.0.0/16\n      next\n    end\n  next\nend\n\nconfig router route-map\n  edit \\\"IBGP-ONLY\\\"\n    config rule\n      edit 1\n        # Do not advertise outside to EBGP peers (outside the region)\n        set set-community \\\"no-export\\\"\n      next\n    end\n  next\n  edit \\\"EDGE_T1_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T1\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\n  edit \\\"EDGE_T2_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T2\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\nend\n\nconfig router bgp\n  config neighbor-group\n    edit \\\"EDGE_T1\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T1_OUT\\\"\n      set route-reflector-client enable\n    next\n    edit \\\"EDGE_T2\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T2_OUT\\\"\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 1\n      set prefix 10.201.0.0/16\n      set neighbor-group \\\"EDGE_T1\\\"\n    next\n    edit 2\n      set prefix 10.202.0.0/16\n      set neighbor-group \\\"EDGE_T2\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.200.0.0/14\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 2\n      set prefix 10.201.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 3\n      set prefix 10.201.$(pop-id).0/24\n    next\n    edit 4\n      set prefix 10.202.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 5\n      set prefix 10.202.$(pop-id).0/24\n    next\n  end\nend\nconfig router static\n  edit 103\n    set dst 10.201.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\n  edit 104\n    set dst 10.202.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Edge Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"CN-Edge-Routing\",\n                    \"script\": \"# Routing on Edge-CN\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 6.6.6.$(cpe-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\n  config neighbor\n    edit 10.201.1.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"cn_t1_11\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n    edit 10.202.1.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"cn_t2_12\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n    edit 10.201.2.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"cn_t1_21\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n    edit 10.202.2.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"cn_t2_22\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n  end\n  config network\n    edit 1\n      set prefix 192.168.100.0/24\n    next\n\tedit 2\n      set prefix 192.168.200.0/24\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-CN-Template/member\",\n            \"data\": [\n                \"CN-Hub-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-CN-Template/member\",\n            \"data\": [\n                \"CN-Edge-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Profile",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"description\": \"\",\n          \"name\": \"cn_sdwan_profile\",\n          \"oid\": 0,\n          \"scope member\": [\n            {\n              \"name\": \"CN_EDGE\"\n            }\n          ],\n          \"type\": \"wanprof\"\n        }\n      ],\n      \"url\": \"/pm/wanprof/adom/{{adom}}\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create SD-WAN Zone",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"overlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        },\n        {\n          \"name\": \"underlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/cn_sdwan_profile/system/sdwan/zone\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3- Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/cn_sdwan_profile/system/sdwan/members\",\n            \"data\": [\n                {\n                    \"interface\": \"port2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"port3\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"cn_t1_11\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"cn_t1_21\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"cn_t2_12\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"cn_t2_22\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"GZPOP1\",\n          \"members\": [\"3\",\"5\"],\n          \"protocol\": \"ping\",\n          \"server\": [\n            \"9.9.9.1\"\n          ],\n          \"recoverytime\": 5,\n          \"update-cascade-interface\": 1,\n          \"update-static-route\": 1,\n          \"sla\": [\n            {\n              \"id\": 1,\n              \"jitter-threshold\": 100,\n              \"latency-threshold\": 200,\n              \"link-cost-factor\": [\n                \"latency\", \"jitter\", \"packet-loss\"\n              ],\n              \"packetloss-threshold\": 10\n            }\n          ],\n          \"sla-fail-log-period\": 10,\n          \"sla-pass-log-period\": 10\n        },\n        {\n          \"name\": \"GZPOP2\",\n          \"members\": [\"4\",\"6\"],\n          \"protocol\": \"ping\",\n          \"server\": [\n            \"9.9.9.2\"\n          ],\n          \"failtime\": 5,\n          \"recoverytime\": 5,\n          \"update-cascade-interface\": 1,\n          \"update-static-route\": 1,\n          \"sla\": [\n            {\n              \"id\": 1,\n              \"jitter-threshold\": 100,\n              \"latency-threshold\": 200,\n              \"link-cost-factor\": [\n                \"latency\", \"jitter\", \"packet-loss\"\n              ],\n              \"packetloss-threshold\": 10\n            }\n          ],\n          \"sla-fail-log-period\": 10,\n          \"sla-pass-log-period\": 10\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/cn_sdwan_profile/system/sdwan/health-check\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add Firewall Rules - Edge-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Edge-GZ-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"dstintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"srcaddr\": \"Corporate_Net\",\n                    \"dstaddr\": \"Corporate_Net\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (DIA)\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 0,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add CLI Template - Edge-Defaults",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"ALL-Edge-Default\",\n                    \"script\": \"# \n                    \nconfig router static\n  edit 1\n    # Default route\n    set sdwan-zone \\\"underlay\\\" \\\"overlay\\\"\n  next\nend\n\n                    \"\n                },\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-CN-Template/member\",\n            \"data\": [\n                \"ALL-Edge-Default\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "8 - Add CLI Template - Hubs-Others",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"CN-Hub-Other\",\n                    \"script\": \"# \n                    \nconfig system settings\n  # Allow overlay switchover for existing sessions (from shortcut to Hub)\n  set tcp-session-without-syn enable\nend\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "9 - Add Firewall Rules - Hub-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Hub-CN-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"cn_t1_0\",\n                        \"cn_t2_0\"\n                    ],\n                    \"dstintf\": [\n                        \"hub2hub-overlay\",\n                        \"cn_t1_0\",\n                        \"cn_t2_0\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"anti-replay\": 0,\n                    \"tcp-session-without-syn\": 0,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"HC_BGP\",\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"cn_t1_0\",\n                        \"cn_t2_0\"\n                    ],\n                    \"dstintf\": \"lo-BGP\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": [\n                        \"PING\",\n                        \"BGP\"\n                        ],\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                },\n                {\n                    \"name\": \"Edge to Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"cn_t1_0\",\n                        \"cn_t2_0\"\n                    ],\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "10 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-CN-Template/member\",\n            \"data\": [\n                \"CN-Hub-Other\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			]
		},
		{
			"name": "HK Region - Single-Hub",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"hk_t1\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"hk_t2\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add VPN Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"id\": 49,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"hk_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.201.3.2\",\n                    \"ipv4-end-ip\": \"10.201.3.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"id\": 50,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"hk_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port3\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.202.3.2\",\n                    \"ipv4-end-ip\": \"10.202.3.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add VPN Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"id\": 5,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_EDGE\"\n                    },\n                    \"vpntable\": \"hk_t1\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"id\": 6,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_EDGE\"\n                    },\n                    \"vpntable\": \"hk_t2\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port3\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Normalized Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"hk_t1_0\",\n                    \"description\": \"hk_t1_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"hk_t1_0\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"hk_t2_0\",\n                    \"description\": \"hk_t2_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"hk_t2_0\",\n                    \"color\": 4\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add CLI Template - Overlay",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"HK_Hub_OVERLAY\",\n                    \"script\": \"# Adjust Overlay on Hub-HK\n                    \n# Configure tunnel interface IPs\nconfig system interface\n edit hk_t1_0\n    set ip 10.201.$(pop-id).1 255.255.255.255\n    set remote-ip 10.201.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit hk_t2_0\n    set ip 10.202.$(pop-id).1 255.255.255.255\n    set remote-ip 10.202.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit hk_t1_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)1\n  next\n  edit hk_t2_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)2\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"HK_EDGE_OVERLAY\",\n                    \"script\": \"\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit hk_t1_0\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 31\n  next\n  edit hk_t2_0\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 32\n  next\nend\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit hk_t1_0\n    set allowaccess ping\n  next\n  edit hk_t2_0\n    set allowaccess ping\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-HK-Template\",\n                    \"member\": [\n                        \"HK_Hub_OVERLAY\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc_3}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Edge-HK-Template\",\n                    \"member\": [\n                        \"HK_EDGE_OVERLAY\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_3}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_4}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Hub Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"HK-Hub-Routing\",\n                    \"script\": \"# Routing on Hub-HK\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 9.9.9.$(pop-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set ebgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\nend\n\nconfig router static\n  edit 101\n    set dst 10.0.0.0/8\n    set blackhole enable\n    set comment \\\"Avoid potential leak of corporate traffic to underlay\\\"\n  next\n  edit 102\n    set dst 10.200.0.0/14\n    set blackhole enable\n    set comment \\\"Summary for cross-overlay resolution\\\"\n  next\nend\n\nconfig router prefix-list\n  edit \\\"OL_SUBNETS\\\"\n    config rule\n      edit 1\n        set prefix 10.200.0.0/14\n        set ge 15\n        unset le\n      next\n    end\n  next\n  edit \\\"OL_T1\\\"\n    config rule\n      edit 1\n        set prefix 10.201.0.0/16\n      next\n    end\n  next\n  edit \\\"OL_T2\\\"\n    config rule\n      edit 1\n        set prefix 10.202.0.0/16\n      next\n    end\n  next\nend\n\nconfig router route-map\n  edit \\\"IBGP-ONLY\\\"\n    config rule\n      edit 1\n        # Do not advertise outside to EBGP peers (outside the region)\n        set set-community \\\"no-export\\\"\n      next\n    end\n  next\n  edit \\\"EDGE_T1_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T1\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\n  edit \\\"EDGE_T2_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T2\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\nend\n\nconfig router bgp\n  config neighbor-group\n    edit \\\"EDGE_T1\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T1_OUT\\\"\n      set route-reflector-client enable\n    next\n    edit \\\"EDGE_T2\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T2_OUT\\\"\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 1\n      set prefix 10.201.0.0/16\n      set neighbor-group \\\"EDGE_T1\\\"\n    next\n    edit 2\n      set prefix 10.202.0.0/16\n      set neighbor-group \\\"EDGE_T2\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.200.0.0/14\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 2\n      set prefix 10.201.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 3\n      set prefix 10.201.$(pop-id).0/24\n    next\n    edit 4\n      set prefix 10.202.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 5\n      set prefix 10.202.$(pop-id).0/24\n    next\n  end\nend\nconfig router static\n  edit 103\n    set dst 10.201.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\n  edit 104\n    set dst 10.202.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Edge Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"HK-Edge-Routing\",\n                    \"script\": \"# Routing on Edge-HK\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 6.6.6.$(cpe-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\n  config neighbor\n    edit 10.201.3.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"hk_t1_0\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n    edit 10.202.3.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"hk_t2_0\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n  end\n  config network\n    edit 1\n      set prefix 192.168.$(subnet-id).0/24\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-HK-Template/member\",\n            \"data\": [\n                \"HK-Hub-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-HK-Template/member\",\n            \"data\": [\n                \"HK-Edge-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Profile",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"description\": \"\",\n          \"name\": \"hk_sdwan_profile\",\n          \"oid\": 0,\n          \"scope member\": [\n            {\n              \"name\": \"HK_EDGE\"\n            }\n          ],\n          \"type\": \"wanprof\"\n        }\n      ],\n      \"url\": \"/pm/wanprof/adom/{{adom}}\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create SD-WAN Zone",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"overlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        },\n        {\n          \"name\": \"underlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/cn_sdwan_profile/system/sdwan/zone\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3- Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/hk_sdwan_profile/system/sdwan/members\",\n            \"data\": [\n                {\n                    \"interface\": \"port2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"port3\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"hk_t1_0\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"hk_t2_0\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"HKPOP\",\n          \"members\": [\"3\",\"4\"],\n          \"protocol\": \"ping\",\n          \"server\": [\n            \"9.9.9.3\"\n          ],\n          \"recoverytime\": 5,\n          \"update-cascade-interface\": 1,\n          \"update-static-route\": 1,\n          \"sla\": [\n            {\n              \"id\": 1,\n              \"jitter-threshold\": 100,\n              \"latency-threshold\": 200,\n              \"link-cost-factor\": [\n                \"latency\", \"jitter\", \"packet-loss\"\n              ],\n              \"packetloss-threshold\": 10\n            }\n          ],\n          \"sla-fail-log-period\": 10,\n          \"sla-pass-log-period\": 10\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/hk_sdwan_profile/system/sdwan/health-check\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add Firewall Rules - Edge-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Edge-HK-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"dstintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"srcaddr\": \"Corporate_Net\",\n                    \"dstaddr\": \"Corporate_Net\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (DIA)\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 0,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add CLI Template - Edge-Defaults",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"ALL-Edge-Default\",\n                    \"script\": \"# \n                    \nconfig router static\n  edit 1\n    # Default route\n    set sdwan-zone \\\"underlay\\\" \\\"overlay\\\"\n  next\nend\n\n                    \"\n                },\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-HK-Template/member\",\n            \"data\": [\n                \"ALL-Edge-Default\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "8 - Add CLI Template - Hubs-Others",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"HK-Hub-Other\",\n                    \"script\": \"\n                    \nconfig system settings\n  # Allow overlay switchover for existing sessions (from shortcut to Hub)\n  set tcp-session-without-syn enable\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "9 - Add Firewall Rules - Hub-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Hub-HK-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"hk_t1_0\",\n                        \"hk_t2_0\"\n                    ],\n                    \"dstintf\": [\n                        \"hub2hub-overlay\",\n                        \"hk_t1_0\",\n                        \"hk_t2_0\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"anti-replay\": 0,\n                    \"tcp-session-without-syn\": 0,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"HC_BGP\",\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"hk_t1_0\",\n                        \"hk_t2_0\"\n                    ],\n                    \"dstintf\": \"lo-BGP\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": [\n                        \"PING\",\n                        \"BGP\"\n                        ],\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                },\n                {\n                    \"name\": \"Edge to Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"hk_t1_0\",\n                        \"hk_t2_0\"\n                    ],\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "10 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-HK-Template/member\",\n            \"data\": [\n                \"HK-Hub-Other\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "EU Region - Single-Hub",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"eu_t1\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"eu_t2\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add VPN Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"id\": 401,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"eu_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.201.4.2\",\n                    \"ipv4-end-ip\": \"10.201.4.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"id\": 402,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"eu_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port3\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.202.4.2\",\n                    \"ipv4-end-ip\": \"10.202.4.250\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add VPN Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"id\": 403,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_EDGE\"\n                    },\n                    \"vpntable\": \"eu_t1\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"id\": 404,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_EDGE\"\n                    },\n                    \"vpntable\": \"eu_t2\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port3\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Normalized Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"eu_t1_0\",\n                    \"description\": \"eu_t1_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"eu_t1_0\",\n                    \"color\": 4\n                },\n                {\n                    \"name\": \"eu_t2_0\",\n                    \"description\": \"eu_t2_0\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"eu_t2_0\",\n                    \"color\": 4\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add CLI Template - Overlay",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"EU_Hub_OVERLAY\",\n                    \"script\": \"# Adjust Overlay on Hub-EU\n                    \n# Configure tunnel interface IPs\nconfig system interface\n edit eu_t1_0\n    set ip 10.201.$(pop-id).1 255.255.255.255\n    set remote-ip 10.201.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit eu_t2_0\n    set ip 10.202.$(pop-id).1 255.255.255.255\n    set remote-ip 10.202.$(pop-id).254 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit eu_t1_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)1\n  next\n  edit eu_t2_0\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id $(pop-id)2\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"EU_EDGE_OVERLAY\",\n                    \"script\": \"\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit eu_t1_0\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 41\n  next\n  edit eu_t2_0\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 42\n  next\nend\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit eu_t1_0\n    set allowaccess ping\n  next\n  edit eu_t2_0\n    set allowaccess ping\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-EU-Template\",\n                    \"member\": [\n                        \"EU_Hub_OVERLAY\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc_4}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Edge-EU-Template\",\n                    \"member\": [\n                        \"EU_EDGE_OVERLAY\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_5}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Hub Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"EU-Hub-Routing\",\n                    \"script\": \"# Routing on Hub-EU\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 9.9.9.$(pop-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set ebgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\nend\n\nconfig router static\n  edit 101\n    set dst 10.0.0.0/8\n    set blackhole enable\n    set comment \\\"Avoid potential leak of corporate traffic to underlay\\\"\n  next\n  edit 102\n    set dst 10.200.0.0/14\n    set blackhole enable\n    set comment \\\"Summary for cross-overlay resolution\\\"\n  next\nend\n\nconfig router prefix-list\n  edit \\\"OL_SUBNETS\\\"\n    config rule\n      edit 1\n        set prefix 10.200.0.0/14\n        set ge 15\n        unset le\n      next\n    end\n  next\n  edit \\\"OL_T1\\\"\n    config rule\n      edit 1\n        set prefix 10.201.0.0/16\n      next\n    end\n  next\n  edit \\\"OL_T2\\\"\n    config rule\n      edit 1\n        set prefix 10.202.0.0/16\n      next\n    end\n  next\nend\n\nconfig router route-map\n  edit \\\"IBGP-ONLY\\\"\n    config rule\n      edit 1\n        # Do not advertise outside to EBGP peers (outside the region)\n        set set-community \\\"no-export\\\"\n      next\n    end\n  next\n  edit \\\"EDGE_T1_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T1\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\n  edit \\\"EDGE_T2_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"OL_T2\\\"\n      next\n      edit 2\n        set action deny\n        set match-ip-address \\\"OL_SUBNETS\\\"\n      next\n      edit 100\n      next\n    end\n  next\nend\n\nconfig router bgp\n  config neighbor-group\n    edit \\\"EDGE_T1\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T1_OUT\\\"\n      set route-reflector-client enable\n    next\n    edit \\\"EDGE_T2\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set remote-as 65$(as-id)00\n      set additional-path send\n      # adv-additional-path = max. number of overlays * max. number of hubs\n      set adv-additional-path 8\n      set route-map-out \\\"EDGE_T2_OUT\\\"\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 1\n      set prefix 10.201.0.0/16\n      set neighbor-group \\\"EDGE_T1\\\"\n    next\n    edit 2\n      set prefix 10.202.0.0/16\n      set neighbor-group \\\"EDGE_T2\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.200.0.0/14\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 2\n      set prefix 10.201.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 3\n      set prefix 10.201.$(pop-id).0/24\n    next\n    edit 4\n      set prefix 10.202.0.0/16\n      set route-map \\\"IBGP-ONLY\\\"\n    next\n    edit 5\n      set prefix 10.202.$(pop-id).0/24\n    next\n  end\nend\nconfig router static\n  edit 103\n    set dst 10.201.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\n  edit 104\n    set dst 10.202.0.0/16\n    set comment \\\"Summary for cross-regional resolution\\\"\n    set blackhole enable\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Edge Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"EU-Edge-Routing\",\n                    \"script\": \"# Routing on Edge-EU\n                    \nconfig router bgp\n  set as 65$(as-id)00\n  set router-id 6.6.6.$(cpe-id)\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set additional-path enable\n  # additional-path-select = max. number of overlays * max. number of hubs\n  set additional-path-select 6\n  set recursive-next-hop enable\n  config neighbor\n    edit 10.201.4.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"eu_t1_0\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n    edit 10.202.4.1\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set interface \\\"eu_t2_0\\\"\n      set connect-timer 1\n      set remote-as 65$(as-id)00\n      set additional-path receive\n    next\n  end\n  config network\n    edit 1\n      set prefix 192.168.$(subnet-id).0/24\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-EU-Template/member\",\n            \"data\": [\n                \"EU-Hub-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-EU-Template/member\",\n            \"data\": [\n                \"EU-Edge-Routing\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Profile",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"description\": \"\",\n          \"name\": eu_sdwan_profile\",\n          \"oid\": 0,\n          \"scope member\": [\n            {\n              \"name\": \"EU_EDGE\"\n            }\n          ],\n          \"type\": \"wanprof\"\n        }\n      ],\n      \"url\": \"/pm/wanprof/adom/{{adom}}\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create SD-WAN Zone",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"overlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        },\n        {\n          \"name\": \"underlay\",\n          \"service-sla-tie-break\": \"fib-best-match\"\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/cn_sdwan_profile/system/sdwan/zone\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3- Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/eu_sdwan_profile/system/sdwan/members\",\n            \"data\": [\n                {\n                    \"interface\": \"port2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"port3\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"zone\": \"underlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"eu_t1_0\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                },\n                {\n                    \"interface\": \"eu_t2_0\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 10,\n                    \"zone\": \"overlay\",\n                    \"status\": \"enable\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"data\": [\n        {\n          \"name\": \"EUPOP\",\n          \"members\": [\"3\",\"4\"],\n          \"protocol\": \"ping\",\n          \"server\": [\n            \"9.9.9.4\"\n          ],\n          \"recoverytime\": 5,\n          \"update-cascade-interface\": 1,\n          \"update-static-route\": 1,\n          \"sla\": [\n            {\n              \"id\": 1,\n              \"jitter-threshold\": 100,\n              \"latency-threshold\": 200,\n              \"link-cost-factor\": [\n                \"latency\", \"jitter\", \"packet-loss\"\n              ],\n              \"packetloss-threshold\": 10\n            }\n          ],\n          \"sla-fail-log-period\": 10,\n          \"sla-pass-log-period\": 10\n        }\n      ],\n      \"url\": \"/pm/config/adom/{{adom}}/wanprof/eu_sdwan_profile/system/sdwan/health-check\"\n    }\n  ],\n  \"session\": \"{{session}}\",\n  \"id\": 1\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add Firewall Rules - Edge-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Edge-EU-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"dstintf\": [\n                        \"lan\",\n                        \"overlay\"\n                    ],\n                    \"srcaddr\": \"Corporate_Net\",\n                    \"dstaddr\": \"Corporate_Net\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (DIA)\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": \"lan\",\n                    \"dstintf\": \"overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 0,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add CLI Template - Edge-Defaults",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"ALL-Edge-Default\",\n                    \"script\": \"# \n                    \nconfig router static\n  edit 1\n    # Default route\n    set sdwan-zone \\\"underlay\\\" \\\"overlay\\\"\n  next\nend\n\n                    \"\n                },\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Add to CLI Template Group - Edge",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Edge-HK-Template/member\",\n            \"data\": [\n                \"ALL-Edge-Default\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "8 - Add CLI Template - Hubs-Others",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"EU-Hub-Other\",\n                    \"script\": \"\n                    \nconfig system settings\n  # Allow overlay switchover for existing sessions (from shortcut to Hub)\n  set tcp-session-without-syn enable\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "9 - Add Firewall Rules - Hub-PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Hub-EU-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Corporate\",\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"eu_t1_0\",\n                        \"eu_t2_0\"\n                    ],\n                    \"dstintf\": [\n                        \"hub2hub-overlay\",\n                        \"eu_t1_0\",\n                        \"eu_t2_0\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"anti-replay\": 0,\n                    \"tcp-session-without-syn\": 0,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"HC_BGP\",\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"eu_t1_0\",\n                        \"eu_t2_0\"\n                    ],\n                    \"dstintf\": \"lo-BGP\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": [\n                        \"PING\",\n                        \"BGP\"\n                        ],\n                    \"action\": 1,\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                },\n                {\n                    \"name\": \"Edge to Internet (RIA)\",\n                    \"policyid\": 3,\n                    \"srcintf\": [\n                        \"hub2hub-overlay\",\n                        \"eu_t1_0\",\n                        \"eu_t2_0\"\n                    ],\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"utm-status\": 1,\n                    \"application-list\": [\n                        \"default\"\n                    ],\n                    \"ssl-ssh-profile\": [\n                        \"deep-inspection\"\n                    ],\n                    \"profile-protocol-options\": [],\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "10 - Add to CLI Template Group - Hub",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-EU-Template/member\",\n            \"data\": [\n                \"EU-Hub-Other\"\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Inter-Region",
			"item": [
				{
					"name": "1 - Add Normalized Interfaces",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"hub2hub-overlay\",\n                    \"description\": \"Zone for Hub2Hub tunnels\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"hub2hub_overlay\",\n                    \"color\": 3\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "2 - Add Inter-Region VPN Communities",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"h2h_t1\",\n                    \"topology\": 0,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 1,\n                    \"vpn-zone\": [ \"hub2hub-overlay\" ],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"h2h_t2\",\n                    \"topology\": 0,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 1,\n                    \"vpn-zone\": [ \"hub2hub-overlay\" ],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "3 - Add Hubs to Inter-Region VPN Communities",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 26,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_POP_1\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 42,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_POP_2\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 58,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 74,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t1\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 27,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_POP_1\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 43,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"CN_POP_2\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 59,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"HK_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                 {\n                \t\"id\": 75,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"EU_POP\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"h2h_t2\",\n                    \"role\": 0,\n                    \"iface\": \"port2\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "4 - Add CLI Template - Inter-Region Overlay",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"H2H-Overlay-HKPOP\",\n                    \"script\": \"\n                    \n# Enable cross-regional aDVPN\nconfig vpn ipsec phase1-interface\n  edit h2h_t1_1a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_1b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t1_2a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_2b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t1_4a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_4b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"H2H-Overlay-EUPOP\",\n                    \"script\": \"\n                    \n# Enable cross-regional aDVPN\nconfig vpn ipsec phase1-interface\n  edit h2h_t1_1a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_1b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t1_2a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_2b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t1_3a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_3b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"H2H-Overlay-CNPOP\",\n                    \"script\": \"\n                    \n# Enable cross-regional aDVPN\nconfig vpn ipsec phase1-interface\n  edit h2h_t1_3a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_3b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n    edit h2h_t1_4a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_4b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t1_$(peer-dc-id)a\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\n  edit h2h_t2_$(peer-dc-id)b\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set exchange-ip-addr4 9.9.9.$(pop-id)\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "5 - Add CLI Template - Inter-Region Routing",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"CN-H2H-Routing\",\n                    \"script\": \"# Inter-region Routing on Hub-CN\n                    \n# Use BGP communities to identify local Hub prefixes\nconfig router community-list\n  edit \\\"CN_HUB\\\"\n    config rule\n      edit 1\n        set action permit\n        set match \\\"65001:20\\\"\n      next\n    end\n  next\nend\nconfig router route-map\n  edit \\\"PEERHUB_OUT\\\"\n    config rule\n      edit 1\n        set match-community \\\"CN_HUB\\\"\n        # Prevent duplicate readvertisement to Edges and remote regions\n        set set-community no-advertise\n      next\n    end\n  next\n  edit \\\"HUB_IN\\\"\n    config rule\n      edit 1\n        set set-community \\\"65001:20\\\"\n      next\n    end\n  next\nend\n\nconfig router bgp\n  config neighbor\n  # Peer Regional Hubs (CN)\n    edit 9.9.9.$(peer-dc-id)\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set link-down-failover enable\n      set connect-timer 1\n      set remote-as 65100\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"      \n      set route-map-out \\\"PEERHUB_OUT\\\"\n      set next-hop-self enable\n    next\n    # Remote Regional Hubs (HK)\n    edit 9.9.9.3\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65200\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n\t# Remote Regional Hubs (EU)\n\t  edit 9.9.9.4\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65300\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n  end\n end\n\n config router policy\n  edit 1\n    set input-device \\\"cn_t1_0\\\"\n    set output-device \\\"cn_t1_0\\\"\n  next\n  edit 2\n    set input-device \\\"cn_t2_0\\\"\n    set output-device \\\"cn_t2_0\\\"\n  next\n  \n  edit 3\n    set input-device \\\"cn_t1_0\\\"\n    set output-device \\\"h2h_t1_$(peer-dc-id)a\\\"\n  next\n  edit 4\n    set input-device \\\"h2h_t1_$(peer-dc-id)a\\\"\n    set output-device \\\"cn_t1_0\\\"\n  next\n  edit 5\n    set input-device \\\"cn_t1_0\\\"\n    set output-device \\\"h2h_t1_3a\\\"\n  next\n  edit 6\n    set input-device \\\"h2h_t1_3a\\\"\n    set output-device \\\"cn_t1_0\\\"\n  next\n  edit 7\n    set input-device \\\"cn_t1_0\\\"\n    set output-device \\\"h2h_t1_4a\\\"\n  next\n  edit 8\n    set input-device \\\"h2h_t1_4a\\\"\n    set output-device \\\"cn_t1_0\\\"\n  next\n  \n  edit 9\n    set input-device \\\"cn_t2_0\\\"\n    set output-device \\\"h2h_t2_$(peer-dc-id)b\\\"\n  next\n  edit 10\n    set input-device \\\"h2h_t2_$(peer-dc-id)b\\\"\n    set output-device \\\"cn_t2_0\\\"\n  next\n  edit 11\n    set input-device \\\"cn_t2_0\\\"\n    set output-device \\\"h2h_t2_3b\\\"\n  next\n  edit 12\n    set input-device \\\"h2h_t2_3b\\\"\n    set output-device \\\"cn_t2_0\\\"\n  next\n  edit 13\n    set input-device \\\"cn_t2_0\\\"\n    set output-device \\\"h2h_t2_4b\\\"\n  next\n  edit 14\n    set input-device \\\"h2h_t2_4b\\\"\n    set output-device \\\"cn_t2_0\\\"\n  next \nend\n\n                    \"\n                },\n                {\n                    \"name\": \"HK-H2H-Routing\",\n                    \"script\": \"# Inter-region Routing on Hub-HK\n                    \nconfig router bgp\n  config neighbor\n    # Remote Regional Hubs (CN_1)\n    edit 9.9.9.1\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65100\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n\t# Remote Regional Hubs (CN_2)\n    edit 9.9.9.2\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65100\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n\t# Remote Regional Hubs (EU)\n\t  edit 9.9.9.4\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65300\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n  end\nend\n\nconfig router policy\n  edit 1\n    set input-device \\\"hk_t1_0\\\"\n    set output-device \\\"hk_t1_0\\\"\n  next\n  edit 2\n    set input-device \\\"hk_t2_0\\\"\n    set output-device \\\"hk_t2_0\\\"\n  next\n  \n  edit 3\n    set input-device \\\"hk_t1_0\\\"\n    set output-device \\\"h2h_t1_1a\\\"\n  next\n  edit 4\n    set input-device \\\"h2h_t1_1a\\\"\n    set output-device \\\"hk_t1_0\\\"\n  next\n  edit 5\n    set input-device \\\"hk_t1_0\\\"\n    set output-device \\\"h2h_t1_2a\\\"\n  next\n  edit 6\n    set input-device \\\"h2h_t1_2a\\\"\n    set output-device \\\"hk_t1_0\\\"\n  next\n  edit 7\n    set input-device \\\"hk_t1_0\\\"\n    set output-device \\\"h2h_t1_4a\\\"\n  next\n  edit 8\n    set input-device \\\"h2h_t1_4a\\\"\n    set output-device \\\"hk_t1_0\\\"\n  next\n  \n  edit 9\n    set input-device \\\"hk_t2_0\\\"\n    set output-device \\\"h2h_t2_1b\\\"\n  next\n  edit 10\n    set input-device \\\"h2h_t2_1b\\\"\n    set output-device \\\"hk_t2_0\\\"\n  next\n  edit 11\n    set input-device \\\"hk_t2_0\\\"\n    set output-device \\\"h2h_t2_2b\\\"\n  next\n  edit 12\n    set input-device \\\"h2h_t2_2b\\\"\n    set output-device \\\"hk_t2_0\\\"\n  next\n  edit 13\n    set input-device \\\"hk_t2_0\\\"\n    set output-device \\\"h2h_t2_4b\\\"\n  next\n  edit 14\n    set input-device \\\"h2h_t2_4b\\\"\n    set output-device \\\"hk_t2_0\\\"\n  next \nend\n\n\n                    \"\n                },\n                {\n                    \"name\": \"EU-H2H-Routing\",\n                    \"script\": \"# Inter-region Routing on Hub-EU\n                    \nconfig router bgp\n  config neighbor\n    # Remote Regional Hubs (CN_1)\n    edit 9.9.9.1\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65100\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n\t# Remote Regional Hubs (CN_2)\n    edit 9.9.9.2\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65100\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n\t# Remote Regional Hubs (HK)\n\t  edit 9.9.9.3\n      set soft-reconfiguration enable\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n      set advertisement-interval 1\n      set connect-timer 1\n      set link-down-failover enable\n      set remote-as 65200\n      set interface \\\"lo-BGP\\\"\n      set update-source \\\"lo-BGP\\\"\n      set additional-path both\n      # Number of overlays\n      set adv-additional-path 2\n    next\n  end\nend\n\nconfig router policy\n  edit 1\n    set input-device \\\"eu_t1_0\\\"\n    set output-device \\\"eu_t1_0\\\"\n  next\n  edit 2\n    set input-device \\\"eu_t2_0\\\"\n    set output-device \\\"eu_t2_0\\\"\n  next\n  \n  edit 3\n    set input-device \\\"eu_t1_0\\\"\n    set output-device \\\"h2h_t1_1a\\\"\n  next\n  edit 4\n    set input-device \\\"h2h_t1_1a\\\"\n    set output-device \\\"eu_t1_0\\\"\n  next\n  edit 5\n    set input-device \\\"eu_t1_0\\\"\n    set output-device \\\"h2h_t1_2a\\\"\n  next\n  edit 6\n    set input-device \\\"h2h_t1_2a\\\"\n    set output-device \\\"eu_t1_0\\\"\n  next\n  edit 7\n    set input-device \\\"eu_t1_0\\\"\n    set output-device \\\"h2h_t1_3a\\\"\n  next\n  edit 8\n    set input-device \\\"h2h_t1_3a\\\"\n    set output-device \\\"eu_t1_0\\\"\n  next\n  \n  edit 9\n    set input-device \\\"eu_t2_0\\\"\n    set output-device \\\"h2h_t2_1b\\\"\n  next\n  edit 10\n    set input-device \\\"h2h_t2_1b\\\"\n    set output-device \\\"eu_t2_0\\\"\n  next\n  edit 11\n    set input-device \\\"eu_t2_0\\\"\n    set output-device \\\"h2h_t2_2b\\\"\n  next\n  edit 12\n    set input-device \\\"h2h_t2_2b\\\"\n    set output-device \\\"eu_t2_0\\\"\n  next\n  edit 13\n    set input-device \\\"eu_t2_0\\\"\n    set output-device \\\"h2h_t2_3b\\\"\n  next\n  edit 14\n    set input-device \\\"h2h_t2_3b\\\"\n    set output-device \\\"eu_t2_0\\\"\n  next \nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "6 - Add to CLI Template Group - Hub-CN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-CN-Template/member\",\n            \"data\": [\n                \"H2H-Overlay-CNPOP\",\n                \"CN-H2H-Routing\"\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "7 - Add to CLI Template Group - Hub-HK",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-HK-Template/member\",\n            \"data\": [\n                \"H2H-Overlay-HKPOP\",\n                \"HK-H2H-Routing\"\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "8 - Add to CLI Template Group - Hub-EU",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"add\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group/Hub-EU-Template/member\",\n            \"data\": [\n                \"H2H-Overlay-EUPOP\",\n                \"EU-H2H-Routing\"\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "8 - Add Firewall Rules - Hub-East",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Hub-East-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"E_INET\",\n                        \"E_MPLS\",\n                        \"lan\",\n                        \"hub2hub-overlay\"\n                    ],\n                    \"dstintf\": [\n                        \"E_INET\",\n                        \"E_MPLS\",\n                        \"lan\",\n                        \"hub2hub-overlay\"\n                    ]\n                },\n                {\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"E_INET\",\n                        \"E_MPLS\",\n                        \"hub2hub-overlay\"\n                    ]\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "9 - Add Firewall Rules - Hub-West",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Hub-West-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"policyid\": 1,\n                    \"srcintf\": [\n                        \"W_INET\",\n                        \"W_MPLS\",\n                        \"lan\",\n                        \"hub2hub-overlay\"\n                    ],\n                    \"dstintf\": [\n                        \"W_INET\",\n                        \"W_MPLS\",\n                        \"lan\",\n                        \"hub2hub-overlay\"\n                    ]\n                },\n                {\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"W_INET\",\n                        \"W_MPLS\",\n                        \"hub2hub-overlay\"\n                    ]\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"postman.setEnvironmentVariable('session',data['session']);",
							"postman.setEnvironmentVariable('status_code',data['result'][0]['status']['code']);"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"strictSSL": false,
				"followAuthorizationHeader": false
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"session\" : 1,\r\n\t\"id\" : 1,\r\n\t\"method\" : \"exec\",\r\n\t\"params\" : [\r\n\t\t{\r\n\t\t\t\"url\" : \"sys/login/user\",\r\n\t\t\t\"data\" : [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"user\" : \"{{username}}\",\r\n\t\t\t\t\t\"passwd\" : \"{{password}}\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				}
			},
			"response": []
		},
		{
			"name": "Logout",
			"event": [
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"postman.setEnvironmentVariable('session',data['session']);"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"session\" : \"{{session}}\",\r\n  \"id\" : 1,\r\n  \"method\" : \"exec\",\r\n  \"params\" : [\r\n    {\r\n      \"url\" : \"/sys/logout\"\r\n    }\r\n  ]\r\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				},
				"description": "Log out a session."
			},
			"response": []
		}
	]
}